# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è OCR –ø–∞—Ä—Å–∏–Ω–≥—É –≥—Ä–∞—Ñ—ñ–∫—ñ–≤ –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è

## –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ

1. **–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ –ø–∞–∫–µ—Ç–∏**: OpenCV, pytesseract, numpy
2. **–ü–∞—Ä—Å–∏–Ω–≥ –∑–æ–±—Ä–∞–∂–µ–Ω—å** `parse_schedule_image()`
3. **–†–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤**:
   - –°–∏–Ω—ñ–π/–±—ñ—Ä—é–∑–æ–≤–∏–π ‚Üí –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
   - –°—ñ—Ä–∏–π ‚Üí –º–æ–∂–ª–∏–≤–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
   - –ë—ñ–ª–∏–π ‚Üí –µ–ª–µ–∫—Ç—Ä–æ–ø–æ—Å—Ç–∞—á–∞–Ω–Ω—è –±—É–¥–µ
4. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –±–æ—Ç–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è –∫–æ–ª–∏ –Ω–µ–º–∞—î —Ç–µ–∫—Å—Ç—É
5. **–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –º–æ–∂–ª–∏–≤–∏—Ö –≤—ñ–¥–∫–ª—é—á–µ–Ω—å** —É –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è—Ö —ñ –≥–æ–¥–∏–Ω–Ω–∏–∫–∞—Ö

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤ (HSV)

```python
# –°–∏–Ω—ñ–π (–≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è)
blue_lower = np.array([100, 50, 100])
blue_upper = np.array([120, 255, 255])

# –°—ñ—Ä–∏–π (–º–æ–∂–ª–∏–≤–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è)
gray_lower = np.array([0, 0, 200])
gray_upper = np.array([180, 30, 250])

# –ë—ñ–ª–∏–π (—Å–≤—ñ—Ç–ª–æ –±—É–¥–µ)
white_lower = np.array([0, 0, 250])
white_upper = np.array([180, 20, 255])
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ñ

- **24 —Ä—è–¥–∫–∏**: –≥–æ–¥–∏–Ω–∏ 00:00 - 23:00
- **12 –∫–æ–ª–æ–Ω–æ–∫**: 6 —á–µ—Ä–≥ √ó 2 –ø—ñ–¥—á–µ—Ä–≥–∏ (1.1, 1.2, 2.1, 2.2, ..., 6.1, 6.2)

## –ú–µ–∂—ñ —Ç–∞–±–ª–∏—Ü—ñ

```python
table_top = int(height * 0.15)    # 15% –≤—ñ–¥ –≤–∏—Å–æ—Ç–∏
table_bottom = int(height * 0.95) # 95% –≤—ñ–¥ –≤–∏—Å–æ—Ç–∏
table_left = int(width * 0.05)    # 5% –≤—ñ–¥ —à–∏—Ä–∏–Ω–∏
table_right = int(width * 0.95)   # 95% –≤—ñ–¥ —à–∏—Ä–∏–Ω–∏
```

## –Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –Ü–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–µ–∂ —Ç–∞–±–ª–∏—Ü—ñ
```bash
python setup_table.py
```
- –ö–ª—ñ–∫–Ω—ñ—Ç—å –±—ñ–ª—è –º–µ–∂ —â–æ–± —ó—Ö –ø–µ—Ä–µ–º—ñ—Å—Ç–∏—Ç–∏
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 's' —â–æ–± –∑–±–µ—Ä–µ–≥—Ç–∏ –≤ `table_bounds.json`
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å 'q' —â–æ–± –≤–∏–π—Ç–∏

### 2. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤
```bash
python test_colors.py
```
- –ö–ª—ñ–∫–Ω—ñ—Ç—å –Ω–∞ –∫–ª—ñ—Ç–∏–Ω–∫–∏ —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫–æ–ª—å–æ—Ä–∏
- –ë–∞—á–∏—Ç–∏–º–µ –≤—ñ–¥—Å–æ—Ç–∫–∏ –∫–æ–∂–Ω–æ–≥–æ –∫–æ–ª—å–æ—Ä—É

### 3. –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ–≤–Ω–æ–≥–æ –ø–∞—Ä—Å–∏–Ω–≥—É
```bash
python test_ocr_simple.py
```

## –§–æ—Ä–º–∞—Ç –≤–∏—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö

```
–ß–µ—Ä–≥–∞ 1.1: –í–∏–º–∫–Ω–µ–Ω–æ: 07:00-08:00, 14:00-15:00; –ú–æ–∂–ª–∏–≤–æ –≤–∏–º–∫–Ω–µ–Ω–æ: 20:00-21:00
```

## –ü–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –±–æ—Ç–∞

- **üî¥ –ì–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω—ñ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è**: –ø–æ–∫–∞–∑—É—é—Ç—å—Å—è —è–∫ –∑–≤–∏—á–∞–π–Ω—ñ
- **üü° –ú–æ–∂–ª–∏–≤—ñ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è**: –ø–æ–∑–Ω–∞—á–∞—é—Ç—å—Å—è —è–∫ "(–º–æ–∂–ª–∏–≤–æ)"
- **üïí –ì–æ–¥–∏–Ω–Ω–∏–∫**: –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω—ñ - —á–µ—Ä–≤–æ–Ω–∏–º, –º–æ–∂–ª–∏–≤—ñ - —Å—ñ—Ä–∏–º

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–ª—è –≤–∞—à–æ–≥–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è

1. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å `setup_table.py`** —â–æ–± –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –º–µ–∂—ñ —Ç–∞–±–ª–∏—Ü—ñ
2. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å `test_colors.py`** —â–æ–± –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –∫–æ–ª—å–æ—Ä—ñ–≤
3. **–°–∫–æ—Ä–µ–≥—É–π—Ç–µ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ –∫–æ–ª—å–æ—Ä—ñ–≤** —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ
4. **–û–Ω–æ–≤—ñ—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫** —è–∫—â–æ —É –≤–∞—Å —ñ–Ω—à–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

## –ú–æ–∂–ª–∏–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏

1. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –º–µ–∂—ñ —Ç–∞–±–ª–∏—Ü—ñ** ‚Üí —Å–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ—Å—è `setup_table.py`
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∫–æ–ª—å–æ—Ä–∏** ‚Üí –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥—ñ–∞–ø–∞–∑–æ–Ω–∏ HSV
3. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∫–æ–ª–æ–Ω–æ–∫** ‚Üí –∑–º—ñ–Ω—ñ—Ç—å `cols` —É –∫–æ–¥—ñ
4. **–®—É–º —É –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—ñ** ‚Üí –¥–æ–¥–∞–π—Ç–µ —Ñ—ñ–ª—å—Ç—Ä–∏ –∞–±–æ –∑–±—ñ–ª—å—à—Ç–µ margin

## –ü–æ–¥–∞–ª—å—à—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ–∂ —Ç–∞–±–ª–∏—Ü—ñ**
2. **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
3. **OCR –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤** —â–æ–± –≤–∏–∑–Ω–∞—á–∞—Ç–∏ –Ω–∞–∑–≤–∏ —á–µ—Ä–≥
4. **–ú–∞—à–∏–Ω–Ω–µ –Ω–∞–≤—á–∞–Ω–Ω—è** –¥–ª—è –∫—Ä–∞—â–æ–≥–æ —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è

## –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

–ó–∞–ø—É—Å—Ç—ñ—Ç—å:
```bash
python test_ocr_simple.py
```

## –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –≤ –±–æ—Ç–∞

–ö–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —ñ–Ω—Ç–µ–≥—Ä—É—î—Ç—å—Å—è –≤ `parse_hoe_smart()` - —è–∫—â–æ –Ω–µ–º–∞—î —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ –æ–ø–∏—Å—É, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è OCR.

## –ü–æ–¥–∞–ª—å—à—ñ –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –º–µ–∂ —Ç–∞–±–ª–∏—Ü—ñ** - –∑–∞–º—ñ—Å—Ç—å —Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏—Ö –≤—ñ–¥—Å–æ—Ç–∫—ñ–≤
2. **–ö–ª–∞—Å—Ç–µ—Ä–∏–∑–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤** - –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤
3. **OCR –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤** - —Ä–æ–∑–ø—ñ–∑–Ω–∞–≤–∞–Ω–Ω—è –Ω–∞–∑–≤ —á–µ—Ä–≥
4. **–û–±—Ä–æ–±–∫–∞ —Å—ñ—Ä–æ–≥–æ –∫–æ–ª—å–æ—Ä—É** - –¥–æ–¥–∞—Ç–∏ –ø—ñ–¥—Ç—Ä–∏–º–∫—É "–º–æ–∂–ª–∏–≤–∏—Ö" –≤—ñ–¥–∫–ª—é—á–µ–Ω—å —É –±–æ—Ç—ñ

## –ù–∞–≤—á–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ

–Ø–∫—â–æ rule-based –ø—ñ–¥—Ö—ñ–¥ –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—ñ–π:

1. –ó—ñ–±—Ä–∞—Ç–∏ –±—ñ–ª—å—à–µ –∑—Ä–∞–∑–∫—ñ–≤ –∑–æ–±—Ä–∞–∂–µ–Ω—å
2. –ü–æ–∑–Ω–∞—á–∏—Ç–∏ –¥–∞–Ω—ñ (bounding boxes –¥–ª—è –∫–ª—ñ—Ç–∏–Ω–æ–∫, –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∫–æ–ª—å–æ—Ä—ñ–≤)
3. –í–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ CNN –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞—Ü—ñ—ó –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è
4. –ù–∞–≤—á–∏—Ç–∏ –º–æ–¥–µ–ª—å –Ω–∞ –∫–ª–∞—Å–∏—Ñ—ñ–∫–∞—Ü—ñ—é –∫–æ–ª—å–æ—Ä—ñ–≤ –∫–ª—ñ—Ç–∏–Ω–æ–∫